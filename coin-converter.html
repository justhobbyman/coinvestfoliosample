<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coin Converter</title>
</head>
<body>
  <select id="coinSelect"></select>
  <select id="currencySelect">
    <option value="usd">USD</option>
    <option value="krw">KRW</option>
    <option value="cny">CNY</option>
    <option value="EUR">EUR</option>
    <option value="JPY">JPY</option>
  </select>
  <button onclick="fetchPrice()">Get Price</button>
  <div id="priceResult"></div>
  <script src="js/coin-converter.js"></script>
  <script>
    async function fetchPrice() {
        const coin = document.getElementById('coinSelect').value;
        const currency = document.getElementById('currencySelect').value;
        try {
            const price = await getCryptoPrice(coin, currency);
            document.getElementById('priceResult').innerText = `1 ${coin.toUpperCase()} = ${price} ${currency.toUpperCase()}`;
        } catch (error) {
            console.error("Error fetching price:", error);
            document.getElementById('priceResult').innerText = "Error fetching price. Please try again.";
        }
    }

    async function loadCoinOptions() {
        try {
            const coins = await loadTop50CoinsByVolume();
            const coinSelect = document.getElementById('coinSelect');
            coins.forEach(coin => {
                const option = document.createElement('option');
                option.value = coin.symbol;
                option.textContent = coin.name;
                coinSelect.appendChild(option);
            });
        } catch (error) {
            console.error('Error loading coin options:', error);
        }
    }

    window.addEventListener('DOMContentLoaded', loadCoinOptions);
  </script>
</body>
</html>

